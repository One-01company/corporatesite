<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>株式会社One | 理念と構造</title>

  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel (必須: JSXをブラウザで変換) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Noto+Sans+JP:wght@300;400;500;700&family=Noto+Serif+JP:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --color-text-main:#111111;
      --color-bg:#FFFFFF;
    }
    body{
      font-family:'Noto Sans JP', sans-serif;
      background-color:var(--color-bg);
      color:var(--color-text-main);
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
      letter-spacing:0.04em;
    }
    .font-serif-en{ font-family:'Cormorant Garamond', serif; }
    .font-serif-jp{ font-family:'Noto Serif JP', serif; }

    ::-webkit-scrollbar{ width:6px; }
    ::-webkit-scrollbar-track{ background:#fff; }
    ::-webkit-scrollbar-thumb{ background:#ddd; }

    #canvas-container{
      position:fixed; top:0; left:0; width:100%; height:100%;
      z-index:-1; pointer-events:none; opacity:0;
      transition:opacity 2s ease-out;
    }
    #canvas-container.loaded{ opacity:1; }

    .h1-responsive{
      font-size:clamp(24px, 4.5vw, 64px);
      line-height:1.6;
    }

    @keyframes structuralRise{
      0%{ opacity:0; transform:translateY(40px) scale(0.98); filter:blur(10px); }
      100%{ opacity:0.10; transform:translateY(0) scale(1); filter:blur(0); }
    }
    .one-symbol{
      animation:structuralRise 2.5s cubic-bezier(0.16,1,0.3,1) forwards;
      opacity:0;
      will-change:transform, opacity, filter;
    }

    @keyframes textRise{
      0%{ opacity:0; transform:translateY(20px); filter:blur(4px); }
      100%{ opacity:1; transform:translateY(0); filter:blur(0); }
    }
    .animate-rise{
      opacity:0;
      animation:textRise 1.4s cubic-bezier(0.16,1,0.3,1) forwards;
    }

    @keyframes pageFade{
      0%{ opacity:0; transform:translateY(10px); }
      100%{ opacity:1; transform:translateY(0); }
    }
    .page-transition{ animation:pageFade 0.8s ease-out forwards; }

    .ib{ display:inline-block; }
    .text-balance{ text-wrap:balance; }
  </style>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // --- Logo ---
    const Logo = ({ navigate }) => (
      <button onClick={() => navigate('home')} className="hover:opacity-60 transition-opacity flex items-center">
        <img
          src="2.png"
          alt="One Logo"
          className="h-[48px] w-auto object-contain"
        />
      </button>
    );

    // --- Minimal Data (まずは確実に動かすため最小) ---
    const SERVICES_HIERARCHY = [
      {
        category: "01 学び",
        sub: "Foundation",
        desc: "ビジネスの基礎体力と、本質的な思考力を養う。",
        items: [
          {
            id: "school",
            title: "ビジネススクール",
            enTitle: "Business School",
            summary: "<span class='ib'>現役の実践者から学ぶ、</span><br><span class='ib'>生き抜くための</span><span class='ib'>「人生力」養成講座。</span>",
            proof: "講師陣の実務経験：平均10年以上",
            details: {
              why: "変化の激しい時代において、必要なのは本質的な思考力と人間力。",
              what: "現場の真理を体系化し、再現性のある思考のOSを提供。",
              how: "対話とワークショップ中心の実践型プログラム。",
              who: "本質的な実力をつけたい方。"
            }
          }
        ]
      }
    ];

    // --- Three Background ---
    const ThreeBackground = () => {
      const mountRef = useRef(null);

      useEffect(() => {
        if (!mountRef.current) return;

        const w = window.innerWidth;
        const h = window.innerHeight;

        const scene = new THREE.Scene();
        scene.fog = new THREE.FogExp2(0xffffff, 0.0015);

        const camera = new THREE.PerspectiveCamera(75, w / h, 1, 1000);
        camera.position.z = 100;

        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(w, h);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        mountRef.current.appendChild(renderer.domElement);

        const group = new THREE.Group();
        scene.add(group);

        const particleCount = 90;
        const r = 120;
        const rHalf = r / 2;
        const connectionDist = 25;

        const positions = new Float32Array(particleCount * 3);
        const linePositions = new Float32Array(particleCount * particleCount * 3);
        const particlesData = [];

        const pMaterial = new THREE.PointsMaterial({
          color: 0x999999,
          size: 0.6,
          transparent: true,
          opacity: 0.6,
          sizeAttenuation: true
        });

        for (let i = 0; i < particleCount; i++) {
          const x = Math.random() * r - rHalf;
          const y = Math.random() * r - rHalf;
          const z = Math.random() * r - rHalf;

          positions[i * 3] = x;
          positions[i * 3 + 1] = y;
          positions[i * 3 + 2] = z;

          particlesData.push({
            velocity: new THREE.Vector3(
              -0.05 + Math.random() * 0.1,
              -0.05 + Math.random() * 0.1,
              -0.05 + Math.random() * 0.1
            )
          });
        }

        const particlesGeo = new THREE.BufferGeometry();
        particlesGeo.setAttribute('position', new THREE.BufferAttribute(positions, 3).setUsage(THREE.DynamicDrawUsage));
        const particleSystem = new THREE.Points(particlesGeo, pMaterial);
        group.add(particleSystem);

        const linesGeo = new THREE.BufferGeometry();
        linesGeo.setAttribute('position', new THREE.BufferAttribute(linePositions, 3).setUsage(THREE.DynamicDrawUsage));

        const linesMat = new THREE.LineBasicMaterial({
          color: 0xcccccc,
          transparent: true,
          opacity: 0.25
        });

        const linesMesh = new THREE.LineSegments(linesGeo, linesMat);
        group.add(linesMesh);

        let animationId;

        const animate = () => {
          let vertexpos = 0;
          let numConnected = 0;

          for (let i = 0; i < particleCount; i++) {
            const v = particlesData[i].velocity;

            positions[i * 3] += v.x;
            positions[i * 3 + 1] += v.y;
            positions[i * 3 + 2] += v.z;

            if (positions[i * 3] < -rHalf || positions[i * 3] > rHalf) v.x = -v.x;
            if (positions[i * 3 + 1] < -rHalf || positions[i * 3 + 1] > rHalf) v.y = -v.y;
            if (positions[i * 3 + 2] < -rHalf || positions[i * 3 + 2] > rHalf) v.z = -v.z;

            for (let j = i + 1; j < particleCount; j++) {
              const dx = positions[i * 3] - positions[j * 3];
              const dy = positions[i * 3 + 1] - positions[j * 3 + 1];
              const dz = positions[i * 3 + 2] - positions[j * 3 + 2];
              const dist = Math.sqrt(dx * dx + dy * dy + dz * dz);

              if (dist < connectionDist) {
                linePositions[vertexpos++] = positions[i * 3];
                linePositions[vertexpos++] = positions[i * 3 + 1];
                linePositions[vertexpos++] = positions[i * 3 + 2];

                linePositions[vertexpos++] = positions[j * 3];
                linePositions[vertexpos++] = positions[j * 3 + 1];
                linePositions[vertexpos++] = positions[j * 3 + 2];

                numConnected++;
              }
            }
          }

          linesMesh.geometry.setDrawRange(0, numConnected * 2);
          linesMesh.geometry.attributes.position.needsUpdate = true;
          particleSystem.geometry.attributes.position.needsUpdate = true;

          group.rotation.y += 0.0003;
          group.rotation.x += 0.0001;

          renderer.render(scene, camera);
          animationId = requestAnimationFrame(animate);
        };

        animate();

        const handleResize = () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
        };
        window.addEventListener('resize', handleResize);

        // 表示フェードイン
        const el = document.getElementById('canvas-container');
        if (el) el.classList.add('loaded');

        return () => {
          window.removeEventListener('resize', handleResize);
          cancelAnimationFrame(animationId);
          if (mountRef.current && renderer.domElement) {
            mountRef.current.removeChild(renderer.domElement);
          }
        };
      }, []);

      return <div id="canvas-container" ref={mountRef}></div>;
    };

    // --- Navigation ---
    const Navigation = ({ navigate }) => (
      <nav className="fixed top-0 w-full z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100 py-6">
        <div className="max-w-7xl mx-auto px-6 md:px-12 flex justify-between items-center">
          <Logo navigate={navigate} />
          <div className="flex space-x-8 md:space-x-12 text-[10px] md:text-xs font-bold tracking-widest uppercase text-[#555]">
            <button onClick={() => navigate('services')} className="hover:text-black transition-colors">Services</button>
            <a href="#contact" className="hover:text-black transition-colors">Contact</a>
          </div>
        </div>
      </nav>
    );

    const Footer = ({ navigate }) => (
      <footer className="bg-white border-t border-gray-100 pt-24 pb-12 px-6 md:px-12">
        <div className="max-w-7xl mx-auto">
          <div className="flex flex-col md:flex-row justify-between items-start mb-20">
            <div className="mb-12 md:mb-0">
              <button onClick={() => navigate('home')} className="mb-6 block hover:opacity-60 transition-opacity">
                <span className="text-2xl font-serif-jp font-bold text-[#111]">株式会社One</span>
              </button>
              <address className="text-xs text-gray-500 not-italic leading-relaxed">
                〒104-0061<br/>
                東京都中央区銀座1丁目12番4号 N&E BLD.6F<br/>
                03-6820-9801
              </address>
            </div>
            <div className="text-xs text-gray-500 leading-loose">
              <ul className="space-y-2">
                <li>財務会計顧問サービス</li>
                <li>ファイナンシャルプランニング業務</li>
                <li>ビジネススクール</li>
                <li>教育制度（OLG）</li>
                <li>コンサルティング・企業研修</li>
                <li>海外進出サポート</li>
              </ul>
            </div>
          </div>
          <div className="text-[10px] text-gray-400 tracking-widest uppercase text-center md:text-left border-t border-gray-50 pt-8">
            © One Co.,Ltd. All Rights Reserved.
          </div>
        </div>
      </footer>
    );

    const SectionHeading = ({ en, ja }) => (
      <div className="mb-16">
        <span className="block text-xs font-serif-en text-gray-400 tracking-widest mb-2 italic">{en}</span>
        <h2 className="text-2xl md:text-3xl font-medium tracking-wide text-[#111]">{ja}</h2>
      </div>
    );

    // --- Home ---
    const PageHome = ({ navigate }) => (
      <div className="page-transition pt-32 md:pt-48">
        <section className="px-6 md:px-12 min-h-[85vh] flex flex-col justify-between max-w-7xl mx-auto relative z-10">
          <div className="absolute top-0 left-0 md:-left-20 w-full h-full flex items-start justify-start pointer-events-none select-none z-0 overflow-visible">
            <div className="text-[20rem] md:text-[35rem] lg:text-[45rem] font-serif-en font-bold text-[#000] leading-none one-symbol origin-top-left -mt-32">
              One
            </div>
          </div>

          <div className="max-w-6xl relative z-10">
            <h1 className="h1-responsive font-serif-jp font-bold tracking-wide text-[#111] mb-16 w-full">
              <span className="block animate-rise" style={{animationDelay: '1.5s'}}>自らが成長し続け、</span>
              <span className="block animate-rise" style={{animationDelay: '1.9s'}}>人間力のある人財を育み、</span>
              <span className="block animate-rise" style={{animationDelay: '2.3s'}}>
                <span className="ib whitespace-nowrap">経済活動を通してこの地球に貢献する。</span>
              </span>
            </h1>

            <div className="pl-6 border-l border-gray-200 animate-rise" style={{animationDelay: '2.7s'}}>
              <h2 className="text-lg md:text-xl text-gray-600 mb-6 font-normal tracking-wide">
                <span className="ib">社会を豊かにする、</span>
                <span className="ib">新たな一歩を“ココ”から。</span>
              </h2>
              <p className="text-sm md:text-base text-gray-500 leading-loose max-w-2xl">
                <span className="ib">Oneは、</span><span className="ib">情報やノウハウを</span><span className="ib">売る会社ではありません。</span>
                <span className="ib">商売の本質と</span><span className="ib">金融知識を軸に、</span>
                <span className="ib">個人と企業が</span><span className="ib">「自ら考え、決断し、行動できる力」を育てる。</span>
                <br className="hidden md:block" />
                <span className="ib">私たちは、</span><span className="ib">成果と継続に責任を持つ、</span>
                <span className="ib">伴走型のパートナーです。</span>
              </p>
            </div>
          </div>

          <div className="py-20 relative z-10" style={{animationDelay: '3.0s'}}>
            <button
              onClick={() => navigate('services')}
              className="group relative inline-flex items-center justify-center px-12 py-5 bg-[#111] text-white text-xs font-bold tracking-widest overflow-hidden transition-all hover:bg-[#333]"
            >
              <span className="relative z-10">事業内容を見る</span>
            </button>
          </div>
        </section>

        <section className="px-6 md:px-12 py-32 border-t border-gray-100 relative z-10 bg-white">
          <div className="max-w-4xl mx-auto">
            <SectionHeading en="Message" ja="Oneの想い" />
            <div className="space-y-12">
              <p className="text-base md:text-lg leading-[2.4] text-gray-700 font-serif-jp text-balance">
                <span className="ib">経済は目的ではなく、</span><span className="ib">未来を支えるための手段である。</span>
              </p>
            </div>
          </div>
        </section>

        <section id="contact" className="px-6 md:px-12 py-32 bg-white border-t border-gray-100 relative z-10">
          <div className="max-w-4xl mx-auto text-center">
            <h2 className="text-3xl md:text-4xl font-serif-en italic mb-8 text-[#111]">Contact</h2>
            <p className="text-base text-gray-600 mb-12 leading-loose text-balance">
              <span className="ib">まずは、</span><span className="ib">今抱えている課題や想いをお聞かせください。</span>
            </p>
            <button className="py-4 px-16 bg-[#111] text-white text-xs font-bold tracking-widest hover:bg-gray-800 transition-colors shadow-lg">
              無料相談フォーム
            </button>
          </div>
        </section>
      </div>
    );

    // --- Services (簡易) ---
    const PageServiceList = ({ navigate }) => (
      <div className="page-transition pt-32 md:pt-40">
        <header className="px-6 md:px-12 mb-24 max-w-7xl mx-auto">
          <span className="text-xs font-serif-en text-gray-400 tracking-widest mb-4 block italic">Structure of Growth</span>
          <h1 className="text-3xl md:text-4xl font-serif-jp font-bold mb-8 text-[#111]">成長の階層構造</h1>
          <p className="text-sm text-gray-600 max-w-2xl leading-loose text-balance">
            Oneの事業は、単なるサービスの羅列ではありません。
          </p>
        </header>

        <div className="max-w-7xl mx-auto px-6 md:px-12 pb-32">
          {SERVICES_HIERARCHY.map((group, i) => (
            <section key={i} className="mb-24">
              <div className="grid md:grid-cols-12 gap-8 md:gap-16">
                <div className="md:col-span-3">
                  <div className="sticky top-32">
                    <div className="text-xs font-serif-en text-gray-400 mb-2 italic">{group.sub}</div>
                    <h2 className="text-2xl font-bold text-[#111] font-serif-jp mb-2">{group.category}</h2>
                    <p className="text-sm text-gray-500 mt-2 leading-relaxed text-balance">{group.desc}</p>
                  </div>
                </div>

                <div className="md:col-span-9 space-y-8">
                  {group.items.map((service, j) => (
                    <div key={j} className="bg-white border border-gray-100 p-10">
                      <div className="flex justify-between items-start mb-6">
                        <h3 className="text-xl font-bold text-[#111] font-serif-jp">{service.title}</h3>
                      </div>
                      <p className="text-base text-gray-600 leading-loose mb-6 text-balance"
                         dangerouslySetInnerHTML={{ __html: service.summary }} />
                      <div className="flex items-center pt-6 border-t border-gray-100">
                        <span className="text-sm font-bold text-[#111] tracking-widest">PROVEN:</span>
                        <span className="ml-3 text-sm text-gray-500 font-serif-en italic">{service.proof}</span>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </section>
          ))}
        </div>
      </div>
    );

    // --- Router ---
    const App = () => {
      const [page, setPage] = useState('home');

      const navigate = (target) => {
        setPage(target);
        window.scrollTo(0, 0);
      };

      return (
        <div>
          <ThreeBackground />
          <Navigation navigate={navigate} />
          <main>
            {page === 'home' && <PageHome navigate={navigate} />}
            {page === 'services' && <PageServiceList navigate={navigate} />}
          </main>
          <Footer navigate={navigate} />
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
